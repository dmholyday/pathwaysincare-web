<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="preload" as="image" href="{{ '/assets/images/banner-optimized.svg' | relative_url }}" fetchpriority="high" type="image/svg+xml">
    <meta name="description" content="{{ site.description }}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/favicon.ico" type="image/x-icon"> 
    <link rel="icon" type="image/png" href="{{ '/assets/images/favicon-96x96.png' | relative_url }}" sizes="96x96" />
    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="{{ '/assets/images/apple-touch-icon.png' | relative_url }}" />
    <link rel="apple-touch-icon" type="image/png" sizes="120x120" href="{{ '/assets/images/apple-touch-icon-120x120.png' | relative_url }}" />
    <meta name="apple-mobile-web-app-title" content="Pathways in Care" />
    <link rel="manifest" href="{{ '/site.webmanifest' | relative_url }}" />   
    
    <script>        
        function isLocal() {
            const hostname = window.location.hostname;
            return hostname.includes("localhost") || hostname.startsWith("192.") || hostname.startsWith("127.");
        }
        function returnRecaptchaKey() {
            if (isLocal()) {
                return "6LcKznUrAAAAAJ8zSpjUvedsZk_8VTYPRV76WPVE";
            } else {
                return "6LeZTXkrAAAAAEOJEMBpi3rHEiCCxSCzSrT3Z98W";
            }
        }
        function returnContactUsApiURL() {
            if (isLocal()) {
                return "http://192.168.1.109:7071/api/ContactUs";
            } else {
                return "https://pic-function-1-cmd4b2fgbzdrh6cv.australiaeast-01.azurewebsites.net/api/ContactUs";
            }
        }
        const recaptchaKey = returnRecaptchaKey();

        const script = document.createElement("script");
        script.src = `https://www.google.com/recaptcha/api.js?render=${recaptchaKey}&onload=grecaptchaCallback&render=explicit`;
        script.async = true;
        script.defer = true;
        document.head.appendChild(script);
    </script>    
    <link rel="stylesheet" href="/assets/style.css">    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Preload font stylesheet without blocking render -->
    <link 
    rel="stylesheet" 
    href="https://fonts.googleapis.com/css2?family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&display=swap" 
    media="print" 
    onload="this.media='all'" 
    />

    <!-- Fallback for no-JS browsers -->
    <noscript>
    <link 
        rel="stylesheet" 
        href="https://fonts.googleapis.com/css2?family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&display=swap" 
    />
    </noscript>

    {% if jekyll.environment == "production" %}
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BC4WZFPJC5"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-BC4WZFPJC5');
    </script>
    {% endif %}

    {% seo %}
</head>

<body class="{% if page.url == '/' %}homepage{% else %}interior-page{% endif %}">
    {% include header.html %}
    <main>
        {{ content }}
    </main>
    {% include footer.html %}
    <script src="/assets/script.js"></script>
</body>

</html>